# ポートフォリオ説明

## システム全体構成
![System configuration diagram](images/tottoko-AWS.drawio.png)

## 使用技術

### フロントエンド

| 使用した主要ライブラリ | バージョン | 説明 |
|----------------|------------|------|
| react | 17.02 |  |
| typescript | 4.5.5 |  |
| chakra-ui | 1.8.5 | UIコンポーネント |
| react-router-dom | 6.2.1 | ルーティングライブラリ |
| ky | 0.29.0 | FetchベースのHTTPクライアントライブラリ |
| react-query | 3.34.16 | データフェッチングライブラリ<br>（主にサーバーデータのキャッシュ機構として使用）|
| react-hook-form | 7.27.1 | フォームバリデーションライブラリ |
| reduxjs/toolkit | 1.7.2 | 状態管理ライブラリ |

#### アプリ特徴
- JWTを使用したユーザー認証を採用。<br>
※ アクセストークン(JWT)やリフレッシュトークン(JWT)の生成はバックエンドのRailsで実装。<br>
→ リフレッシュトークンを使用し、「サイレントリフレッシュ」や起動時自動認証を実装。
- `chakra-ui`を使用し、チェックボックスカードのUIコンポーネントを実装。
- `keen-slider`、`chakra-ui`を使用し、カルーセルUIコンポーネントを実装。
- `react-query`を使用し、コメントの「もっと見る」機能を実装。

#### 開発環境特徴
- `create-react-app`を使用し、プロジェクトテンプレートを作成。
- エディタは`VSCode`を使用し、VSCodeからブラウザ起動・デバッグできるよう設定。
- `ESLint`、`StyleLint`、`Prettier`を導入・設定し、VSCodeと連携。
- `simple-git-hooks`、`lint-staged`を導入し、コミット時にコード解析＆テストを自動実行できるよう設定。

### バックエンド

| 使用した主要ライブラリ | バージョン | 説明 |
|----------------|------------|------|
| rails | 6.1.4.1 | APIモードで使用 |
| bcrypt | 3.1.16 | パスワードのハッシュ化ライブラリ |
| jwt | 2.3.0 | JWT作成・検証ライブラリ |
| rack-cors | 1.1.1 | CORS設定ライブラリ |
| image_processing | 1.12.1 | 画像処理ライブラリ<br>サブネイル作成に使用 |
| jbuilder | 2.11.2 | JSON形式のデータを出力するライブラリ |
| kaminari | 1.2.2 | ページングライブラリ |

#### アプリ特徴
- 以下機能をJWTを用いて実装。設計・実装をシンプル化。
  - ユーザー認証（アクセストークン、リフレッシュトークンの実装）
  - アカウントアクティブ化<br>※ JWT付きURLをログインIDのメールアドレスに送ることでメールアドレスの有効性を検証
  - パスワードリセット
  - メールアドレス変更
- 画像保存を`Active Storage`を使用して実装。
- 複雑なJSON出力のリクエストは`jbuilder`を使用。

#### 開発環境特徴
- `docker`及び、`docker-compose`を用いて、コンテナ開発環境を構築。<br>
※イメージ軽量化のためベースイメージは`alpine`を使用。
- `rspec`、`factory_bot`を使用してテスト実施。
- デバックは`pry`を使用。
